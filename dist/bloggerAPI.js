!function(e,t){if("function"==typeof define&&define.amd)define("gulpEasyTaskBabelModuleId3872890",["exports","module","babel-runtime/core-js/promise","babel-runtime/regenerator","babel-runtime/core-js/get-iterator","lodash","babel-runtime/helpers/interop-require-default","./asyncLog","debug","is-url","request-promise","html-img-digger","html-taiwan-address-digger"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module,require("babel-runtime/core-js/promise"),require("babel-runtime/regenerator"),require("babel-runtime/core-js/get-iterator"),require("lodash"),require("babel-runtime/helpers/interop-require-default"),require("./asyncLog"),require("debug"),require("is-url"),require("request-promise"),require("html-img-digger"),require("html-taiwan-address-digger"));else{var r={exports:{}};t(r.exports,r,e._Promise,e._regeneratorRuntime,e._getIterator,e._,e._interopRequireDefault,e.asyncLog,e.debug,e.isUrl,e.request,e.imgDigger,e.addrDigger),e.gulpEasyTaskBabelModuleId3872890=r.exports}}(this,function(e,t,r,a,s,u,n,l,i,o,d,g,f){"use strict";function c(e){var t=this,u=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=(arguments.length<=2||void 0===arguments[2]?{}:arguments[2],h["default"](k.namespace+":getPostsList"));return e||r["default"].reject(n.namespace+": expect first arg to be a number as bloggerId"),u=p["default"].defaults({},u,{key:null,maxResults:20,status:"live",fetchBodies:!0,fetchImages:!1,pageToken:void 0}),n("[start] get posts by bloggerId: "+e+", pageToken: "+u.pageToken),x["default"]({json:!0,method:"GET",url:"https://www.googleapis.com/blogger/v3/blogs/"+e+"/posts",qs:u}).then(b["default"](n),b["default"](n)).then(function(e){var r,u,n,l,i,o,d;return a["default"].async(function(t){for(;;)switch(t.prev=t.next){case 0:r=!0,u=!1,n=void 0,t.prev=3,l=s["default"](e.items);case 5:if(r=(i=l.next()).done){t.next=23;break}return o=i.value,t.next=9,a["default"].awrap(q["default"].dig(o.content));case 9:if(t.t0=t.sent,t.t0){t.next=12;break}t.t0=[];case 12:return o.address=t.t0,t.next=15,a["default"].awrap(v["default"].dig(o.content));case 15:if(t.t1=t.sent,t.t1){t.next=18;break}t.t1=[];case 18:o.images=t.t1,o.location&&o.location.name&&o.address.unshift(o.location.name);case 20:r=!0,t.next=5;break;case 23:t.next=29;break;case 25:t.prev=25,t.t2=t["catch"](3),u=!0,n=t.t2;case 29:t.prev=29,t.prev=30,!r&&l["return"]&&l["return"]();case 32:if(t.prev=32,!u){t.next=35;break}throw n;case 35:return t.finish(32);case 36:return t.finish(29);case 37:return d=p["default"].map(e.items,function(e){return{address:e.address,body:e.content,cover:p["default"].get(e,"images[0].url",""),published:e.published,images:p["default"].pluck(e.images,"url"),title:e.title,url:e.url}}),e.nextPageToken&&(d.nextPageToken=e.nextPageToken),t.abrupt("return",d);case 40:case"end":return t.stop()}},null,t,[[3,25,29,37],[30,,32,36]])})}function m(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=h["default"](k.namespace+":getByUrl");return e=p["default"].defaults({},e,{key:null}),t("[start] GET byUrl "+e.url),x["default"]({json:!0,method:"GET",url:"https://www.googleapis.com/blogger/v3/blogs/byurl",qs:e}).then(b["default"](t),b["default"](t))}var p=n["default"](u),b=n["default"](l),h=n["default"](i),x=(n["default"](o),n["default"](d)),v=n["default"](g),q=n["default"](f),k=h["default"]("blogger-posts-crawler:bloggerAPI");t.exports={getByUrl:m,getPostsList:c}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2dnZXJBUEkuanMiXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwibW9kIiwiX1Byb21pc2UiLCJfcmVnZW5lcmF0b3JSdW50aW1lIiwiX2dldEl0ZXJhdG9yIiwiXyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJhc3luY0xvZyIsImRlYnVnIiwiaXNVcmwiLCJyZXF1ZXN0IiwiaW1nRGlnZ2VyIiwiYWRkckRpZ2dlciIsImd1bHBFYXN5VGFza0JhYmVsTW9kdWxlSWQzODcyODkwIiwidGhpcyIsIl9iYWJlbFJ1bnRpbWVDb3JlSnNQcm9taXNlIiwiX2JhYmVsUnVudGltZVJlZ2VuZXJhdG9yIiwiX2JhYmVsUnVudGltZUNvcmVKc0dldEl0ZXJhdG9yIiwiX2xvZGFzaCIsIl9iYWJlbFJ1bnRpbWVIZWxwZXJzSW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2FzeW5jTG9nIiwiX2RlYnVnIiwiX2lzVXJsIiwiX3JlcXVlc3RQcm9taXNlIiwiX2h0bWxJbWdEaWdnZXIiLCJfaHRtbFRhaXdhbkFkZHJlc3NEaWdnZXIiLCJnZXRQb3N0c0xpc3QiLCJibG9nZ2VySWQiLCJfdGhpcyIsInFzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibG9nMiIsIl9kZWJ1ZzIiLCJsb2ciLCJuYW1lc3BhY2UiLCJyZWplY3QiLCJfMiIsImRlZmF1bHRzIiwia2V5IiwibWF4UmVzdWx0cyIsInN0YXR1cyIsImZldGNoQm9kaWVzIiwiZmV0Y2hJbWFnZXMiLCJwYWdlVG9rZW4iLCJfcmVxdWVzdCIsImpzb24iLCJtZXRob2QiLCJ1cmwiLCJ0aGVuIiwiX2FzeW5jTG9nMiIsInJlc3VsdCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yIiwiX3N0ZXAiLCJpdGVtIiwiaXRlbXMiLCJhc3luYyIsImNvbnRleHQkMiQwIiwicHJldiIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJhd3JhcCIsIl9hZGRyRGlnZ2VyIiwiZGlnIiwiY29udGVudCIsInQwIiwic2VudCIsImFkZHJlc3MiLCJfaW1nRGlnZ2VyIiwidDEiLCJpbWFnZXMiLCJsb2NhdGlvbiIsIm5hbWUiLCJ1bnNoaWZ0IiwidDIiLCJmaW5pc2giLCJtYXAiLCJib2R5IiwiY292ZXIiLCJnZXQiLCJwdWJsaXNoZWQiLCJwbHVjayIsInRpdGxlIiwibmV4dFBhZ2VUb2tlbiIsImFicnVwdCIsInN0b3AiLCJnZXRCeVVybCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBV0EsRUFBUUMsR0FDakIsR0FBc0Isa0JBQVhDLFNBQXlCQSxPQUFPQyxJQUN6Q0QsT0FBTyxvQ0FBcUMsVUFBVyxTQUFVLGdDQUFpQyw0QkFBNkIscUNBQXNDLFNBQVUsZ0RBQWlELGFBQWMsUUFBUyxTQUFVLGtCQUFtQixrQkFBbUIsOEJBQStCRCxPQUNqVSxJQUF1QixtQkFBWkcsVUFBNkMsbUJBQVhDLFFBQ2xESixFQUFRRyxRQUFTQyxPQUFRQyxRQUFRLGlDQUFrQ0EsUUFBUSw2QkFBOEJBLFFBQVEsc0NBQXVDQSxRQUFRLFVBQVdBLFFBQVEsaURBQWtEQSxRQUFRLGNBQWVBLFFBQVEsU0FBVUEsUUFBUSxVQUFXQSxRQUFRLG1CQUFvQkEsUUFBUSxtQkFBb0JBLFFBQVEsbUNBQzVWLENBQ0wsR0FBSUMsSUFDRkgsV0FFRkgsR0FBUU0sRUFBSUgsUUFBU0csRUFBS1AsRUFBT1EsU0FBVVIsRUFBT1Msb0JBQXFCVCxFQUFPVSxhQUFjVixFQUFPVyxFQUFHWCxFQUFPWSx1QkFBd0JaLEVBQU9hLFNBQVViLEVBQU9jLE1BQU9kLEVBQU9lLE1BQU9mLEVBQU9nQixRQUFTaEIsRUFBT2lCLFVBQVdqQixFQUFPa0IsWUFDM05sQixFQUFPbUIsaUNBQW1DWixFQUFJSCxVQUUvQ2dCLEtBQU0sU0FBVWhCLEVBQVNDLEVBQVFnQixFQUE0QkMsRUFBMEJDLEVBQWdDQyxFQUFTQyxF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QWpFLGFBQUFBIiwiZmlsZSI6ImJsb2dnZXJBUEkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgYXN5bmNMb2cgZnJvbSAnLi9hc3luY0xvZydcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1ZydcbmltcG9ydCBpc1VybCBmcm9tICdpcy11cmwnXG5pbXBvcnQgcmVxdWVzdCBmcm9tICdyZXF1ZXN0LXByb21pc2UnXG5cbmltcG9ydCBpbWdEaWdnZXIgZnJvbSAnaHRtbC1pbWctZGlnZ2VyJ1xuaW1wb3J0IGFkZHJEaWdnZXIgZnJvbSAnaHRtbC10YWl3YW4tYWRkcmVzcy1kaWdnZXInXG5cbmxldCBsb2cgPSBkZWJ1ZygnYmxvZ2dlci1wb3N0cy1jcmF3bGVyOmJsb2dnZXJBUEknKVxuXG4vKipcbkdldCBwb3N0cyBvZiBibG9nZ2VyIGJ5IGJsb2dnZXJJZFxuXG5saW5rOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hcGlzLWV4cGxvcmVyLz9obD1lbl9VUyNwL2Jsb2dnZXIvdjMvYmxvZ2dlci5wb3N0cy5saXN0P2Jsb2dJZD03MTY1Mjk5NDgwMjY1ODEwNDU4JmZldGNoQm9kaWVzPWZhbHNlJmZldGNoSW1hZ2VzPWZhbHNlJm1heFJlc3VsdHM9NTAwJnN0YXR1cz1saXZlJl9oPTEmXG4qL1xuZnVuY3Rpb24gZ2V0UG9zdHNMaXN0KGJsb2dnZXJJZCwgcXMgPSB7fSwgb3B0cyA9IHt9KSB7XG5cbiAgbGV0IGxvZzIgPSBkZWJ1Zyhsb2cubmFtZXNwYWNlICsgJzpnZXRQb3N0c0xpc3QnKVxuXG4gIGlmICghYmxvZ2dlcklkKSB7XG4gICAgUHJvbWlzZS5yZWplY3QoYCR7bG9nMi5uYW1lc3BhY2V9OiBleHBlY3QgZmlyc3QgYXJnIHRvIGJlIGEgbnVtYmVyIGFzIGJsb2dnZXJJZGApXG4gIH1cblxuICBxcyA9IF8uZGVmYXVsdHMoe30sIHFzLCB7XG4gICAga2V5OiBudWxsLFxuICAgIG1heFJlc3VsdHM6IDIwLFxuICAgIHN0YXR1czogJ2xpdmUnLFxuICAgIGZldGNoQm9kaWVzOiB0cnVlLFxuICAgIGZldGNoSW1hZ2VzOiBmYWxzZSxcbiAgICBwYWdlVG9rZW46IHVuZGVmaW5lZCxcbiAgfSlcblxuICBsb2cyKGBbc3RhcnRdIGdldCBwb3N0cyBieSBibG9nZ2VySWQ6ICR7YmxvZ2dlcklkfSwgcGFnZVRva2VuOiAke3FzLnBhZ2VUb2tlbn1gKVxuXG4gIHJldHVybiByZXF1ZXN0KHtcbiAgICBqc29uOiB0cnVlLFxuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYmxvZ2dlci92My9ibG9ncy8ke2Jsb2dnZXJJZH0vcG9zdHNgLFxuICAgIHFzLFxuICB9KVxuICAudGhlbihhc3luY0xvZyhsb2cyKSwgYXN5bmNMb2cobG9nMikpXG4gIC50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcblxuICAgIGZvciAobGV0IGl0ZW0gb2YgcmVzdWx0Lml0ZW1zKSB7XG4gICAgICBpdGVtLmFkZHJlc3MgPSBhd2FpdCBhZGRyRGlnZ2VyLmRpZyhpdGVtLmNvbnRlbnQpIHx8IFtdXG4gICAgICBpdGVtLmltYWdlcyA9IGF3YWl0IGltZ0RpZ2dlci5kaWcoaXRlbS5jb250ZW50KSB8fCBbXVxuXG4gICAgICBpZiAoaXRlbS5sb2NhdGlvbiAmJiBpdGVtLmxvY2F0aW9uLm5hbWUpIHtcbiAgICAgICAgaXRlbS5hZGRyZXNzLnVuc2hpZnQoaXRlbS5sb2NhdGlvbi5uYW1lKVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBpdGVtcyA9IF8ubWFwKHJlc3VsdC5pdGVtcywgKGl0ZW0pID0+IHtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWRkcmVzczogaXRlbS5hZGRyZXNzLFxuICAgICAgICBib2R5OiBpdGVtLmNvbnRlbnQsXG4gICAgICAgIGNvdmVyOiBfLmdldChpdGVtLCAnaW1hZ2VzWzBdLnVybCcsICcnKSxcbiAgICAgICAgcHVibGlzaGVkOiBpdGVtLnB1Ymxpc2hlZCxcbiAgICAgICAgaW1hZ2VzOiBfLnBsdWNrKGl0ZW0uaW1hZ2VzLCAndXJsJyksXG4gICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLFxuICAgICAgICB1cmw6IGl0ZW0udXJsLFxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZiAocmVzdWx0Lm5leHRQYWdlVG9rZW4pIHtcbiAgICAgIGl0ZW1zLm5leHRQYWdlVG9rZW4gPSByZXN1bHQubmV4dFBhZ2VUb2tlblxuICAgIH1cblxuICAgIHJldHVybiBpdGVtc1xuICB9KVxufVxuXG4vKipcbkdldCBkZXRhaWwgb2YgYmxvZ2dlciBieSBibG9nc3BvdCB1cmxcbkBwYXJhbSBxcyB7b2JqZWN0fSBVcmwgcXVlcnkgc3RyaW5nIHBhcmFtc1xuQHBhcmFtIHFzLmtleSB7c3RyaW5nfSBBUEkga2V5XG5AcmV0dXJuIHtQcm9taXNlKG9iamVjdCl9IFRyeSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hcGlzLWV4cGxvcmVyLz9obD1lbl9VUyNwL2Jsb2dnZXIvdjMvYmxvZ2dlci5ibG9ncy5nZXRCeVVybD91cmw9aHR0cCUyNTNBJTI1MkYlMjUyRmhhcHB5Y2xvdWQyMDEzLmJsb2dzcG90LnR3JTI1MkYmX2g9NiZcbiovXG5mdW5jdGlvbiBnZXRCeVVybChxcyA9IHt9KSB7XG5cbiAgbGV0IGxvZzIgPSBkZWJ1Zyhsb2cubmFtZXNwYWNlICsgJzpnZXRCeVVybCcpXG5cbiAgcXMgPSBfLmRlZmF1bHRzKHt9LCBxcywge1xuICAgIGtleTogbnVsbCxcbiAgfSlcblxuICBsb2cyKGBbc3RhcnRdIEdFVCBieVVybCAke3FzLnVybH1gKVxuXG4gIHJldHVybiByZXF1ZXN0KHtcbiAgICBqc29uOiB0cnVlLFxuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYmxvZ2dlci92My9ibG9ncy9ieXVybGAsXG4gICAgcXMsXG4gIH0pXG4gIC50aGVuKGFzeW5jTG9nKGxvZzIpLCBhc3luY0xvZyhsb2cyKSlcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRCeVVybCxcbiAgZ2V0UG9zdHNMaXN0XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=